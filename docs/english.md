# SimpleMenu documentation
The content on this page is only a documentation to the library.
Here you will find the function-list, in order to get common information about the library, take a look on the <a href="https://github.com/ArduinoLibs/SimpleMenu/blob/master/README.md" style="font-size: 12px;line-height: 12px;">README file</a> by pressing <a href="https://github.com/ArduinoLibs/SimpleMenu/blob/master/README.md" style="font-size: 12px;line-height: 12px;">here</a>.

Navigation:
1. [Third-party libraries](#third-party-libraries)
1. [Constants](#constants)
1. [Structure types](#structure-types)


# Third-party libraries
As we said previously, the library is here to take care of what the menu should do.
To do this we are using some third-party libraries (that aren't included with the library, but are compability and we suggest to install and use those in your project).
Here is a full table with the libraries we are using in order to take the care of the processing from you.

| Library                                                           | Recommended version   | Author    | For what                                                                                  | Notes                                                                             |
| ----------------------------------------------------------------- | --------------------- | --------- | ----------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------- |
| [GyverButton](/AlexGyver/GyverLibs/releases/tag/GyverButton)      | 3.5                   | AlexGyver | Allows you to control the menu using buttons                                              |                                                                                   |
| [GyverEncoder](/AlexGyver/GyverLibs/releases/tag/GyverEncoder)    | 4.8                   | AlexGyver | Allows you to control the menu using encoders                                             |                                                                                   |
| [GyverOLED](/AlexGyver/GyverLibs/releases/tag/GyverOLED)          | beta                  | AlexGyver | Allows you to output the menu on compability OLED displays (128x64 and 128x32 displays)   | Even if the library is still on beta, it's functions very-well and you can use it |

*You can ask to add compability with other libraries by opening an issue or creating a pull-request*

# Constants
| Category              | Meaning                                                                       | Usage                                                             |
| --------------------- | ----------------------------------------------------------------------------- | ----------------------------------------------------------------- |
| Input devices         | Specifies what device should be used for input for the library                | Specify when you create a new menu variable                       |
| Output devices        | Specifies what device should be used to output the menu on                    | Specify when you create a new menu variable                       |
| Scrolling             | Specifies how the items should be scrolled                                    | Specify in the corresponding function on the menu variable        |
| Items buffer size     | Specifies the size for storing information about the items in the memory      | Define before loading the library (shared between all menus)      |
| Input device action   | Specifies the action that should be taken when activating the input device    | Specify in the corresponding method for the chosen input device   |

| Category                  | Constant                  | Value                     | Description (based on category)                                                                                           |
| ------------------------- | ------------------------- | ------------------------- | ------------------------------------------------------------------------------------------------------------------------- |
| **Input devices**         | `SMENU_INPUT_MANUAL`      | 0                         | You will need to use the `clickDown`, `clickUp` and `clickSelect` methods in order control the menu                       |
| **Input devices**         | `SMENU_INPUT_SUBMENU`     | `SMENU_INPUT_MANUAL` (0)  | For sub-menus the library will call the `clickDown`, `clickUp` and `clickSelect` methods                                  |
| **Input devices**         | `SMENU_INPUT_BUTTON`      | 1                         | Buttons using the `GyverButton` library                                                                                   |
| **Input devices**         | `SMENU_INPUT_ENCODER`     | 2                         | Encoders using the `GyverEncoder` library                                                                                 |
|                           |                           |                           |                                                                                                                           |
| **Output devices**        | `SMENU_OUTPUT_MANUAL`     | 0                         | You will need to use the `bindOutputFunction` method in order to output the menu                                          |
| **Output devices**        | `SMENU_OUTPUT_SUBMENU`    | `SMENU_OUTPUT_MANUAL` (0) | For sub-menus the library will bind the output function to the main menu binded function                                  |
| **Output devices**        | `SMENU_OUTPUT_OLED`       | 1                         | Compabiltable OLED displays with the `GyverOLED` library (128x64 and 128x32 OLED displays)                                |
|                           |                           |                           |                                                                                                                           |
| **Scrolling**             | `SMENU_SCROLL_ITEM`       | 0                         | **Default**<br>Scrolling will be made like on modern devices, item-by-item<br>![Example](https://i.imgur.com/S6aQFkZ.png) |
| **Scrolling**             | `SMENU_SCROLL_PAGE`       | 1                         | The menu will scroll the whole page<br>![Example](https://i.imgur.com/UmiSP4p.png)                                        |
|                           |                           |                           |                                                                                                                           |
| **Items buffer size**     | `SMENU_ITEMBUFSIZE_1`     | -                         | **Default**<br>System-variables for storing stuff such currently selected item will take 1 byte of memory                 |
| **Items buffer size**     | `SMENU_ITEMBUFSIZE_2`     | -                         | System-variables for storing stuff such currently selected item will take 2 bytes of memory                               |
| **Items buffer size**     | `SMENU_ITEMBUFSIZE_4`     | -                         | System-variables for storing stuff such currently selected item will take 4 bytes of memory                               |
|                           |                           |                           |                                                                                                                           |
| **Input device action**   | `SMENU_BTN_DOWN`          | 0                         | Defined only if the `GyverButton` library is loaded. Specifies the action of the button to move one element down          |
| **Input device action**   | `SMENU_BTN_UP`            | 1                         | Defined only if the `GyverButton` library is loaded. Specifies the action of the button to move one element up            |
| **Input device action**   | `SMENU_BTN_SEL`           | 2                         | Defined only if the `GyverButton` library is loaded. Specifies the action of the button to select the current menu item   |

# Structure types
**`SimpleMenu`:**
> Menu object.

**`SMenuItem`:**
> Based on the size you've choosed when you defined either `SMENU_ITEMBUFSIZE_1`, `SMENU_ITEMBUFSIZE_2` or `SMENU_ITEMBUFSIZE_4`, this struct type will be an alias for `unsigned char`, `unsigned short` and `unsigned long`, respectively.

**`MENUITEM_ONCLICK`:**
> A function with signature of `void functionName()` for handling clicks on menu items.

**`SMenuRenderItems`:**
> A list of items on the page to render. Contains only 2 fields: \
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**count** - Count of elements to render (usually the page-size until the page is not filled fully, for example when scrolling to the last page and it's contains only a few items on the page), you should use this while iterating over all the menu items \
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**items** - A pointer to the label of the first menu item to render. You can use this like an array, for example, `items[0]` will return the formatted label of the first menu item to render, `items[1]` will return the second one

# List of basic methods
| Function signature                                                                | Arguments                                                                                                                                                                                                                             | Return value          | Description                                                                                                                                                                   |
| --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `SimpleMenu(byte inputDevice, byte outputDevice)`                                 | **inputDevice** - Specifies the input device (use one of the input devices constants)<br>**outputDevice** - Specifies the output device (use one of the output devices constants)                                                     | *constructor*         | Creates a new menu with the specified parameters                                                                                                                              |
| `void addMenuItem(const char item[])`                                             | **item** - Label of the new menu item                                                                                                                                                                                                 | -                     | Adds a new item without any action to menu                                                                                                                                    |
| `void addMenuItem(const char item[], MENUITEM_ONCLICK onClick)`                   | **item** - Label of the new menu item<br>**onClick** - Function to be called when the menu item is clicked                                                                                                                            | -                     | Adds a new item with function handler to menu                                                                                                                                 |
| `void addMenuItem(const char item[], SimpleMenu* subMenu)`                        | **item** - Label of the new menu item<br>**subMenu** - A pointer to the sub-menu that should be opened once the menu item is clicked                                                                                                  | -                     | Adds a new item with sub-menu handler to menu (the library will automatically open the sub-menu once the menu item is clicked)                                                |
| `void addFlashMenuItem(const __FlashStringHelper* item)`                          | **item** - PROGMEM variable or F-macro string for the label of the new menu item                                                                                                                                                      | -                     | Adds a new item without any action to menu                                                                                                                                    |
| `void addFlashMenuItem(const __FlashStringHelper* item, MENUITEM_ONCLICK onClick)`| **item** - PROGMEM variable or F-macro string for the label of the new menu item<br>**onClick** - Function to be called when the menu item is clicked                                                                                 | -                     | Adds a new item with function handler to menu                                                                                                                                 |
| `void addFlashMenuItem(const __FlashStringHelper* item, SimpleMenu* subMenu)`     | **item** - PROGMEM variable or F-macro string for the label of the new menu item<br>**subMenu** - A pointer to the sub-menu that should be opened once the menu item is clicked                                                       | -                     | Adds a new item with sub-menu handler to menu (the library will automatically open the sub-menu once the menu item is clicked)                                                |
| `void addGoBackMenuItem(const char item[])`                                       | **item** - Label of the new menu item                                                                                                                                                                                                 | -                     | Adds a new item with core-function of returning to the parent menu (go-back or go-up button in sub-menus)                                                                     |
| `void addFlashGoBackMenuItem(const __FlashStringHelper* item)`                    | **item** - PROGMEM variable or F-macro string for the label of the new menu item                                                                                                                                                      | -                     | Adds a new item with core-function of returning to the parent menu (go-back or go-up button in sub-menus)                                                                     |
| `void clickDown()`                                                                | -                                                                                                                                                                                                                                     | -                     | Method for controlling the menu manually, will simulate a down button click                                                                                                   |
| `void clickUp()`                                                                  | -                                                                                                                                                                                                                                     | -                     | Method for controlling the menu manually, will simulate an up button click                                                                                                    |
| `void clickSelect()`                                                              | -                                                                                                                                                                                                                                     | -                     | Method for controlling the menu manually, will simulate a select button click                                                                                                 |
| `void init(SMenuItemNum pageSize)`                                                | **pageSize** - How many items should be displayed on each page                                                                                                                                                                        | -                     | Initialize the menu with specified count of items on each page, used when the output device is manually or submenu                                                            |
| `void setScrollMode(unsigned char mode)`                                          | **mode** - A constant from the scrolling category that represents the wanted scrolling mode                                                                                                                                           | -                     | Changes the way the item are going to be scrolled on the menu                                                                                                                 |
| `void update()`                                                                   | -                                                                                                                                                                                                                                     | -                     | Updates the menu on the output device (called automatically when clicking on a button)                                                                                        |
| `void tick()`                                                                     | -                                                                                                                                                                                                                                     | -                     | Tells the menu to run all the logic of checking physical buttons and etc, should be called in the `loop` function                                                             |
| `void bindOutputFunction(void(*function)(SMenuRenderItems))`                      | **function** - A pointer to a function with signature of `void function(SMenuRenderItems items)`                                                                                                                                      | -                     | Binds a function to the render, the binded function will be called when the menu will needed to be rendered. Should be used and implemented when using a manual output device |                

**Methods that require the `GyverOLED` library:**
| Function signature                                                                | Arguments                                                                                                                                                                                                                             | Return value          | Description                                                                                                                                                                       |
| --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `void initOLED(unsigned char type, GyverOLED* oled)`                              | **type** - The type of the display, usually a constant `OLED128x32` or `OLED128x64`<br>**oled** - A pointer to the display                                                                                                            | -                     | Initializes the menu automatically based on the information provided. The type will be used to set the page-size, the provided OLED display will be used to output the menu on    |
| `void renderOLED()`                                                               | -                                                                                                                                                                                                                                     | -                     | Renders the menu on the OLED display provided using the `initOLED` method                                                                                                         |

**Methods that require the `GyverButton` library:**
| Function signature                                                                | Arguments                                                                                                                                                                                                                             | Return value          | Description                                                                                                                                                                       |
| --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `void bindButton(GButton* button, byte action)`                                   | **button** - A pointer to the button you want to bind to an action<br>**action** - An action identifier, use the defines from the `input device actions` category                                                                     | -                     | Binds a single button to specified action on the menu                                                                                                                             |
| `void bindButton(GButton* down, GButton* up, GButton* select)`                    | **down** - A pointer to the button that used to scroll the menu down<br>**up** - A pointer to the button that used to scroll the menu up<br>**select\** - A pointer to the button that used to select the current menu item           | -                     | Binds multiple buttons to their actions (This is the same as invoking the previous method for each button and specifying the corresponding actions to each button)                |

**Methods that require the `GyverEncoder` library:**
| Function signature                                                                | Arguments                                                                                                                                                                                                                             | Return value          | Description                                                                                                                                                                       |
| --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `void bindEncoder(Encoder* encoder)`                                              | **encoder** - A pointer to the encoder that will be used to control the menu                                                                                                                                                          | -                     | Binds an encoder to take actions on the menu (scrolling the encoder right to move down, left to move up and click on the encoder to select)                                       |